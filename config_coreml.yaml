# Traffic Camera PoC Configuration (CoreML)

# Camera settings
camera:
  rtsp_url: "rtsp://YOUR_USERNAME:YOUR_PASSWORD@YOUR_CAMERA_IP:554/stream1"
  fps: 15
  resolution: [1920, 1080]
  reconnect_timeout: 30
  buffer_size: 1

# Detection settings
detection:
  model: "yolov8n.mlpackage"
  confidence: 0.5
  classes: [2, 3, 5, 7]
  device: "cpu" # CoreML handles device internally
  imgsz: 640  # CoreML requires 640x640
  enable_classification: false

# Tracking settings
tracking:
  algorithm: "bytetrack"
  max_age: 30
  min_hits: 3
  iou_threshold: 0.3

# Speed estimation
speed_estimation:
  calibration_file: "calibration.json"
  min_track_length: 10
  speed_limit_kmh: 30
  direction_threshold: 50

# Storage
storage:
  database: "./data/traffic.db"
  csv_dir: "./data/csv"
  retention_days: 90

# Reporting
reporting:
  output_dir: "./reports"
  location: "横浜市神奈川区・三ツ沢第25号線"
  recipient: "神奈川警察署 交通課"
  auto_generate: false
  report_day: 1

# Dashboard
dashboard:
  enabled: false
  host: "0.0.0.0"
  port: 8000
  debug: false

# Logging
logging:
  level: "INFO"
  file: "./logs/traffic_monitor.log"
  max_size_mb: 100
  backup_count: 5
  console: true

# Performance
performance:
  frame_skip: 2
  batch_mode: false
  async_storage: true
  threaded_capture: true
